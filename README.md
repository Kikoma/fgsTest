# Ð¢ÐµÑÑ‚Ð¾Ð²Ð¾Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ

## ÐºÐ°Ð½Ð´Ð¸Ð´Ð°Ñ‚: ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€ Ð‘Ð¾Ð¹ÐºÐ¾

### ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ

ÐŸÑ€Ð¸ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ñ‚Ð°Ð¹Ð»Ð¾Ð² ÑÐµÑ€Ð²ÐµÑ€ Ð²Ñ‹Ð´Ð°ÐµÑ‚ Ð¾ÑˆÐ¸Ð±ÐºÑƒ

     Access denied. See https://operations.osmfoundation.org/policies/tiles/

ÐÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ð¹ ÐºÐ¾Ð´ Ð·Ð°ÐºÐ¾Ð¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½, Ð²ÐµÑ€Ð½ÑƒÐ»ÑÑ Ðº ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾Ð¼Ñƒ

---

### 1. ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐµÐ¼ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹

```
   $ git clone git@github.com:Kikoma/fgsTest.git
``` 

### 2. Ð—Ð°Ð´Ð°ÐµÐ¼ Ð¿ÐµÑ€Ð²Ð¾Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ„Ð°Ð¹Ð»Ð° ___.env_prod___

ÐžÐ±Ñ€Ð°Ð·ÐµÑ† Ñ„Ð°Ð¹Ð»Ð° Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº ___.env_example___

      # ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Django
      DEBUG=False
      SECRET_KEY=django-insec.................
      # ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
      DB_HOST=127.0.0.1
      DB_HOST2=127.0.0.1
      DB_PORT=5432
      DB_NAME=db_dbname
      DB_USER=db_username
      DB_PASS=db_user_password
      
      ALLOWED_HOSTS=127.0.0.1,localhost
      
      CORS_ALLOW_ALL_ORIGINS=True
      
      CSRF_TRUSTED_ORIGINS =http://127.0.0.1, localhost
      
      # Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ðº API dadata
      DADATA_API_KEY=xxx
      DADATA_SECRET_KEY=xxx

### 3. Ð¡Ñ‚Ñ€Ð¾Ð¸Ð¼ Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ Ð²ÑÐµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹

ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÐ¼ Ñ„Ð°Ð¹Ð» .env_prod

   ```
   $ docker-compose up --build -d --env-file .env_prod
   ```

### 4. Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ Ñ„Ð°Ð¹Ð» city.csv

ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° Ð¿Ñ€Ð¾Ð¿Ð¸ÑÐ°Ð½Ð° Ð² docker Ð¸ Ð¿Ñ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐµ docker-compose Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸. Ð•ÑÐ»Ð¸ Ð½Ð°Ð´Ð¾ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ, Ñ‚Ð¾
Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÐ¼:

   ```
   $ python manage.py importcity
   ```

## Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

![screen of site](./msk_exmpl.jpeg)

### P.S.

> **Ð² Ð¿Ð»Ð°Ð½Ð°Ñ… ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ:**
> 1. Ñ‚ÐµÑÑ‚Ñ‹
> 2. ~~Ð¡ÐºÐ°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ðµ Ñ‚ÑÐ¹Ð»Ð¾Ð² Ð·Ð°Ð¿ÑƒÑÐºÐ°Ñ‚ÑŒ Ð² ___Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾Ð¼ Ñ€ÐµÐ¶Ð¸Ð¼Ðµ (aiohttp)___~~ - __Ð¡Ð´ÐµÐ»Ð°Ð½Ð¾__
> 3. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ celery Ð½Ð° ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ ÑÑ‚Ð°Ñ€Ñ‹Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð² ÐºÐ°Ñ€Ñ‚ (Ñ€Ð°Ð· Ð² ÑÑƒÑ‚ÐºÐ¸)
> 4. ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ°Ñ€Ñ‚Ñƒ (Ð¼Ð°ÑÑˆÑ‚Ð°Ð± Ñ‚ÑÐ¹Ð»Ð¾Ð², Ñ†ÐµÐ½Ñ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹ Ð¿Ð¾ Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ñ‚Ð¾Ñ‡ÐºÐµ)
> 5. Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ/Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ/Ð¸ÑÐ¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð»Ð¾Ð³Ð¾Ð²
>
> Ð•ÑÑ‚ÑŒ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ Ð±ÑƒÐ´Ñƒ Ð´Ð¾Ð´ÐµÐ»Ñ‹Ð²Ð°Ñ‚ÑŒ Ð¿Ð¾ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ ðŸ˜Ž
> 
